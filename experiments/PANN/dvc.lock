schema: '2.0'
stages:
  train_esc:
    cmd: python train_esc.py ../../datasets model.pt
    deps:
    - path: ../../datasets.py
      md5: b2020a74a58eecf25c22cb3f72527f71
      size: 5770
    - path: ../../features.py
      md5: 977d53647c8fd415c1a467dcda9db17a
      size: 1753
    - path: ../../transforms.py
      md5: b4f9c52c8cb21f01cf382713520b3bfc
      size: 2555
    - path: model.py
      md5: 162685631f3693b366a18c20ceb29fc2
      size: 806
    - path: train_esc.py
      md5: ee96ff6b9d66599ac17958ff05ccfc5a
      size: 2234
    params:
      ../../params.yaml:
        features.global_normalization: false
        features.mel_transform.n_mels: 64
        features.mel_transform.normalized: false
        features.sampling_rate: 8000
        train.batch_size: 32
        train.learning_rate: 0.001
        train.nepochs: 50
        train.random_seed: 1234
    outs:
    - path: model.pt
      md5: 8de77dddacd2e6e2e9f2262c06fd05ac
      size: 289615
    - path: training_metrics
      md5: d3e0553f5b91e0c0a5df271f33080e5d.dir
      size: 3746
      nfiles: 2
  train:
    cmd: python main.py --verbose --train --cuda --root_path ../../ --model_path model.pt
    deps:
    - path: main.py
      md5: 02986594bda2b8cb0927efc3965ff52b
      size: 3160
    - path: model.py
      md5: f99087240956b6c45afc72a94a789249
      size: 9595
    - path: trainer.py
      md5: d7cce1c133a81a73145eabf46eac3382
      size: 4951
    params:
      params.yaml:
        features.collate_resize: pad
        features.number_of_channels: 1
        features.sampling_rate: 32000
        features.waveform_normalization.scope: global
        features.waveform_normalization.type: zscore
        train.batch_size: 4
        train.dataset: ESC
        train.learning_rate: 0.001
        train.nepochs: 2
        train.random_seed: 1234
    outs:
    - path: model.pt
      md5: 43266e4102df4012a964271c181e41e5
      size: 350716397
    - path: traced_model.pt
      md5: accc62e28127d168b334f2563dccd230
      size: 324598087
    - path: training_metrics
      md5: 33faeafc1d3fad3ccc890ba4d35b22bb.dir
      size: 397
      nfiles: 4
